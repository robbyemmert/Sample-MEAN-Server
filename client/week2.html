<!DOCTYPE html>
<html ng-app="demoApp">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script src="/bower_components/angular-ui-router/release/angular-ui-router.min.js"></script>
    <script>
    var app = angular.module('demoApp', ['ui.router', 'directiveLib']);

    app.config(function($stateProvider, $urlRouterProvider){
        $urlRouterProvider.otherwise("/");

        $stateProvider
        .state('home', {
            url: "/",
            templateUrl: "partials/view1.html",
            controller: 'SimpleController'
        })
        .state('view2', {
            url: "/view2",
            templateUrl: "partials/view2.html",
            controller: 'SimpleController'
        })
        .state('todo', {
            url: "/todo",
            templateUrl: "partials/todo.html",
            controller: 'TodoController'
        })
    });

    // app.factory("TestFactory", function(){
    //     var something = {};
    //     something.afunction = function(){
    //         return "Hi";
    //     }
    //     something.status = "Not here right now, go away!";
    //
    //     return something;
    // });
    //
    // app.service("TestService", function(){
    //     this.afunction = function(){
    //         return "Hi";
    //     }
    //     this.status = "Not here right now.....";
    //
    // })

    app.factory("simpleFactory", function(){
        var customers = [{
            name: 'John Smith',
            city: 'Grand Rapids'
        }, {
            name: 'John Doe',
            city: 'Detroit'
        }, {
            name: 'Jane Doe',
            city: 'Lowell'
        }];

        var factory = {};
        factory.getCustomers = function() {
            return customers;
        }

        return factory;
    })

    app.controller('SimpleController', function($scope, simpleFactory, Todos) {
        $scope.customers = simpleFactory.getCustomers();
        $scope.todos = Todos;
        $scope.somefunc = function(){
            something != undefined;
        }
    });

    app.factory('Todos', function(){
        return [
            {title: "Build a todo app", done: false}
        ]
    })

    app.controller('TodoController', function($scope, Todos){
        $scope.todos = Todos;

        $scope.addTodo = function(){
            $scope.todos.push({
                title: $scope.newTodo, done: false
            });
            $scope.newTodo = "";
        }

        $scope.clearCompleted = function(){
            $scope.todos = $scope.todos.filter(function(item){
                return !item.done;
            })
        }
    });

    </script>
    <script src="/components/navbar/navbar.js"></script>
    <script src="/components/navbar2/navbar.js"></script>
</head>

<body>
    <ui-view></ui-view>
</body>

</html>
